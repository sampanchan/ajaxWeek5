{"version":3,"sources":["twitter.js"],"names":["TwitterApi","evt","preventDefault","console","log","term","document","querySelector","value","data","op","q","form","reset","axios","get","API_BASE_URL","params","then","processResults","catch","handleError","results","statuses","tweetContainer","createElement","setAttribute","tweetResults","appendChild","i","length","tweets","userPhoto","user","profile_image_url","username","screen_name","name","tweetMessage","text","source","date","created_at","tweetItemEl","userPhotoEl","usernameEl","textContent","nameEl","tweetMessageEl","dateEl","sourceEl","innerHTML","sourceTextOnly","err","setUpListener","addEventListener","handleSearch"],"mappings":"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","sourcesContent":["class TwitterApi{\n\n    // same as localhost:8888\n    API_BASE_URL = 'twitter-proxy.php'\n\n    constructor(){\n\n        this.setUpListener()\n    }\n\n    setUpListener(){\n        const form = document.querySelector('form[name=\"twitter_search\"]')\n        form.addEventListener('submit', this.handleSearch);\n\n    }\n   \n\n\n    handleSearch = (evt) => {\n        evt.preventDefault()\n        console.log('searching....')\n\n        const term = document.querySelector('input[name=\"term\"]').value  \n        const data ={\n            op: 'search_tweets',\n            q: term,\n\n        }\n        const form = document.querySelector('form[name=\"twitter_search\"]');\n        form.reset();\n        axios.get(this.API_BASE_URL, { params: data }).then(this.processResults).catch(this.handleError)\n    }\n    processResults = (data) => {\n        const results = data.data.statuses\n        console.log('we got data!', results)\n\n        const tweetContainer = document.createElement('div');\n        tweetContainer.setAttribute('class', 'tweet-container');\n        const tweetResults = document.querySelector('.tweetResults');\n        tweetResults.appendChild(tweetContainer);\n\n        for (let i = 0; i < results.length; i++ ){\n\n\n            const tweets = results[i]\n\n           \n            const userPhoto = tweets.user.profile_image_url\n            const username = tweets.user.screen_name\n            const name = tweets.user.name\n            const tweetMessage = tweets.text\n            const source = tweets.source\n            const date = tweets.created_at\n          \n            \n\n            // Twitter Item\n            const tweetItemEl = document.createElement('div');\n            tweetItemEl.setAttribute('class', 'tweet-item');\n            tweetContainer.appendChild(tweetItemEl);\n\n            //image- profile\n            const userPhotoEl = document.createElement('img');\n            tweetItemEl.appendChild(userPhotoEl);\n            userPhotoEl.setAttribute('src', userPhoto);\n\n            //Username\n            const usernameEl = document.createElement('h3');\n            tweetItemEl.appendChild(usernameEl);\n            usernameEl.textContent = \"@\" + username ;\n\n            //name\n            const nameEl = document.createElement('h4');\n            tweetItemEl.appendChild(nameEl);\n            nameEl.textContent = name ;\n\n            \n            //tweet\n            const tweetMessageEl = document.createElement('p');\n            tweetItemEl.appendChild(tweetMessageEl);\n            tweetMessageEl.textContent = tweetMessage;\n\n\n            //date\n            const dateEl = document.createElement('p');\n            dateEl.setAttribute('class', 'date-item');\n            tweetItemEl.appendChild(dateEl);\n            dateEl.textContent = date;\n\n            //source: iphone/android\n            const sourceEl = document.createElement('a');\n            sourceEl.setAttribute('class', 'source-item');\n            sourceEl.innerHTML = source;\n            tweetItemEl.appendChild(sourceEl);\n            const sourceTextOnly = sourceEl.textContent;\n            // sourceEl.textContent = source;\n\n\n\n\n    }\n\n    \n}\nhandleError = (err) => {\n    console.log('ERROR!', err)\n}\n}\n"],"file":"twitter.js"}