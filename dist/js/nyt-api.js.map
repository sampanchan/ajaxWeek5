{"version":3,"sources":["nyt-api.js"],"names":["NYT_SearchAPI","message","messageEl","innerHTML","evt","preventDefault","console","log","term","document","querySelector","value","data","q","API_KEY","axios","get","API_BASE_URL","params","then","processResults","response","articleContainer","createElement","setAttribute","classResults","appendChild","abstracts","docs","length","i","doc","headline","main","webUrl","web_url","photoUrl","multimedia","url","summary","snippet","sectionName","section_name","date","pub_date","articleItemEl","titleEl","photoEl","dateEl","abstractEl","textContent","sectionNameEl","linkEl","headlineEl","setUpListener","form","addEventListener","handleSearch"],"mappings":"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","sourcesContent":["class NYT_SearchAPI {\n\n    API_BASE_URL = 'https://api.nytimes.com/svc/search/v2/articlesearch.json'\n    API_KEY = 'CdyLSaf5xyJlIpqFXkXyEAbZ3E9h9iTS'\n\n    constructor(){\n\n        this.messageEl = document.querySelector('p.message')\n        this.setUpListener()\n    }\n\n    setUpListener(){\n        const form = document.querySelector('form[name=\"article_search\"]')\n        form.addEventListener('submit', this.handleSearch)\n\n    }\n\n    showMessage = (message) => {\n        this.messageEl.innerHTML = message\n    \n    }\n\n    handleSearch = (evt) => {\n        evt.preventDefault()\n        console.log('searching....')\n\n        const term = document.querySelector('input[name=\"term\"]').value\n        const data = {\n            q: term, \n            // begin_date:'',\n            // end_date:'',\n            'api-key': this.API_KEY\n\n        }\n        axios.get(this.API_BASE_URL, {params: data}).then(this.processResults)\n        \n    }\n\n    processResults = (response) => {\n        console.log('got results!', response)\n\n        // parent container\n        const articleContainer = document.createElement('div');\n        articleContainer.setAttribute('class', 'article-Container');\n        const classResults = document.querySelector('.classResults')\n        classResults.appendChild( articleContainer);\n\n       \n\n\n\n        // for loop for abstracts\n        var abstracts = response.data.response.docs\n        console.log(abstracts.length)\n        for (let i =0; i < abstracts.length; i++){\n            // this.showMessage(abstracts[i].byline.original)\n            // console.log(abstracts[i].byline)\n\n            const doc = abstracts[i]\n            const headline = doc.headline.main\n            const webUrl = doc.web_url\n            const photoUrl = doc.multimedia[0].url\n            const summary =  doc.snippet\n            const sectionName = doc.section_name\n            const date = doc.pub_date\n        \n        //Article Item\n        const articleItemEl = document.createElement('div');\n        articleItemEl.setAttribute('class', 'article-item');\n        articleContainer.appendChild(articleItemEl);\n\n         //title\n        const titleEl = document.createElement('h2');\n        articleItemEl.appendChild(titleEl);\n\n         //photo\n         const photoEl = document.createElement('img');\n         articleItemEl.appendChild(photoEl);\n        photoEl.setAttribute('src',  'https://www.nytimes.com/' + photoUrl);\n\n        //date\n        const dateEl = document.createElement('p');\n        dateEl.setAttribute('class', '.article-date');\n        articleItemEl.appendChild(dateEl);\n\n        //about/abstract\n        const abstractEl = document.createElement('p');\n        abstractEl.setAttribute('class', 'abstract-container');\n        articleItemEl.appendChild(abstractEl);\n        abstractEl.textContent = summary;\n\n        //section_name\n        const sectionNameEl = document.createElement('p');\n        articleItemEl.appendChild(sectionNameEl);\n        sectionNameEl.textContent = sectionName;\n\n         // anchor-link\n         const linkEl = document.createElement('a');\n         articleItemEl.appendChild(linkEl);\n         const headlineEl = document.createElement('h3');\n         headlineEl.textContent = headline;\n         linkEl.appendChild(headlineEl);\n         linkEl.setAttribute('href', webUrl);\n         linkEl.setAttribute('target', '_blank');\n        }\n\n\n\n\n        \n\n        // get date on DOM\n        // show more input fields \n    }\n}\n\nnew NYT_SearchAPI()"],"file":"nyt-api.js"}